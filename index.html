<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>麻辣小鱼mir2资料站</title>
    <style>
        /* 全局样式 */
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* 容器样式 */
        .container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        /* 标题样式 */
        h1, h2, h3 {
            color: #2c3e50;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* 段落样式 */
        p {
            margin: 10px 0;
        }
        
        /* 链接样式 */
        a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        /* 按钮样式 */
        input[type="submit"], input[type="button"] {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px 0;
        }
        
        input[type="submit"]:hover, input[type="button"]:hover {
            background-color: #2980b9;
        }
        
        /* 输入框样式 */
        input[type="text"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 200px;
        }
        
        /* 单选按钮样式 */
        input[type="radio"] {
            margin-right: 5px;
        }
        
        /* 表格样式 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        /* 分隔线样式 */
        .divider {
            text-align: center;
            color: #7f8c8d;
            margin: 20px 0;
            font-size: 14px;
        }
        
        /* 时间显示样式 */
        #time {
            font-size: 16px;
            color: #7f8c8d;
            text-align: center;
            margin: 10px 0;
        }
        
        /* 结果显示样式 */
        #result {
            color: #e74c3c;
            font-size: 18px;
            font-weight: bold;
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
            border-left: 4px solid #e74c3c;
        }
        
        /* 自定义时间输入框 */
        #custom_time {
            width: 80px;
            margin-left: 5px;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
    <script type="text/javascript" src="https://wow.techbrood.com/libs/jquery/jquery-2.1.1.min.js"></script>
    <script src="https://cdn.bootcss.com/vConsole/3.3.4/vconsole.min.js"></script>
    <script>
        // 初始化
        //var vConsole = new VConsole();
        //console.log('Hello world');
    </script>
</head>

<body>
    <div class="container">
        <h2 style="text-align: center;">麻辣小鱼mir2资料站</h2>
        
        <div id="time"></div>
        
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <p>
                <input type="submit" id="id_result_button" name="result_button" class="" value="怪物刷新立刻点击记录当前时间" onClick="make_ctime();">
            </p>
            <p>
                <label>记录刷新时间：</label>
                <input type="text" name="tv_time" id="id_tv_time" class="" text="111" value="111"> 
                <span style="font-size: 12px; color: #7f8c8d;">时间格式: 2022-11-1 17:21:38</span>
            </p>
        </div>
        
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 15px 0;">
            <p><strong>选择地图刷新间隔时间：</strong><small>（有谁知道其他地图的刷新间隔时间，请告诉我）</small></p>
            <p>
                <label><input type="radio" value="505" name="select_time" checked="true">505秒 祖玛7层 赤月（老魔） 蜈蚣洞（恐怖、东一）猪洞(猪5)</label>
            </p>
            <p>
                <label><input type="radio" value="1005" name="select_time">1005秒 祖玛教主之家 赤月（山谷秘道、抉择、右回廊等） 猪洞(猪4 ) 蜈蚣洞（地牢北2)</label>
            </p>
            <p>
                <label><input type="radio" value="1505" name="select_time">1505秒 连接通道 香石墓穴</label>
            </p>
            <p>
                <label><input type="radio" value="0" name="select_time">自定义：<input type="text" id="custom_time" value="0">(秒)</label>
            </p>
            
            <p>
                <input type="submit" id="id_result_button" name="result_button" class="" value="点击计算下次刷新时间（内容复制到剪切板）" onClick="jisuan();">
            </p>
            
            <p>
                <strong>刷新时间:</strong>
                <div id="result" value="查询"></div>
                <input type="submit" id="id_result_next_button" name="result_name_button" class="" value="已刷新计算下次" onClick="jisuan_next();">
            </p>
        </div>
    </div>
    
    <div class="container">
        <h3>跑路不迷路</h3>
        <table>
            <tr>
                <td><a href="map_all.html" target="_blank">1.大地图跑路</a></td>
                <td><a href="map_biqi.html" target="_blank">2.骷髅僵尸不迷路</a></td>
                <td><a href="map_wm.html" target="_blank">3.沃玛不迷路</a></td>
                <td><a href="map_wgd.html" target="_blank">4.蜈蚣洞不迷路</a></td>
            </tr>
            <tr>
                <td><a href="map_smz.html" target="_blank">5.石墓阵不迷路</a></td>
                <td><a href="map_zm.html" target="_blank">6.祖玛不迷路</a></td>
                <td><a href="map_cyxg.html" target="_blank">7.赤月峡谷不迷路</a></td>
            </tr>
        </table>
    </div>
    
    <div class="container">
        <h3>一些副本</h3>
        <table>
            <tr>
                <td><a href="map_zones_andian.html" target="_blank">1.山洞(未知暗殿)不迷路</a></td>
                <td><a href="map_zones_jiangshi.html" target="_blank">2.僵尸副本不迷路</a></td>
                <td><a href="map_zones_wugong.html" target="_blank">3.蜈蚣(地牢)副本不迷路</a></td>
                <td><a href="map_zones_duojiao.html" target="_blank">4.多角副本不迷路</a></td>
                <td><a href="map_zones_shouren.html" target="_blank">5.兽人副本不迷路</a></td>
            </tr>
            <tr>
                <td><a href="map_zones_woma.html" target="_blank">6.沃玛副本不迷路</a></td>
                <td><a href="map_zones_shimu.html" target="_blank">7.石墓副本不迷路</a></td>
                <td><a href="map_zones_zm.html" target="_blank">8.祖玛副本不迷路</a></td>
                <td><a href="map_zones_chiyue.html" target="_blank">9.赤月副本不迷路</a></td>
                <td><a href="map_zones_kulou.html" target="_blank">10.骷髅副本不迷路</a></td>
            </tr>
        </table>
    </div>
    
    <div class="container">
        <h3>职业属性表</h3>
        <table>
            <tr>
                <td><a href="role_zhanshi.html" target="_blank">1.战士属性表</a></td>
                <td><a href="role_daoshi.html" target="_blank">2.道士属性表</a></td>
                <td><a href="role_fashi.html" target="_blank">3.法师属性表</a></td>
                <td><a href="fashibb.html" target="_blank">4.法师常用宝宝</a></td>
            </tr>
        </table>
    </div>
    
    <div class="container">
        <h3>资料相关</h3>
        <ul style="list-style-type: none; padding-left: 0;">
            <li><a href="https://docs.qq.com/sheet/DTGVkQlFKbm9oUk9T" target="_blank">原始怪物数据、等级经验衰减</a></li>
            <li><a href="https://docs.qq.com/doc/DTGpremNPRW1oVW1C" target="_blank">命运武器任务详细流程</a></li>
            <li><a href="https://zhuanlan.zhihu.com/p/141415234" target="_blank">《热血传奇》深度解读系列（6）：法师技能解读（上）</a></li>
            <li><a href="https://zhuanlan.zhihu.com/p/143170527" target="_blank">《热血传奇》深度解读系列（6）：法师技能解读（下）</a></li>
            <li><a href="https://zhuanlan.zhihu.com/p/110741385" target="_blank">《热血传奇》深度解读系列（3）：武器升级（上篇）</a></li>
            <li><a href="https://zhuanlan.zhihu.com/p/116900079" target="_blank">《热血传奇》深度解读系列（3）：武器升级（下篇）</a></li>
            <li><a href="https://bk2.176170.xyz/" target="_blank">如初的1.76传奇资料</a></li>
            <li><a href="https://www.mir2db.com/" target="_blank">韩服传奇资料站</a></li>
            <li><a href="shizai.html" target="_blank">实在服专属资料</a></li>
        </ul>
    </div>
    
    <div class="container">
        <h3>下载相关</h3>
        <ul style="list-style-type: none; padding-left: 0;">
            <li><a href="http://yewai.ysepan.com" target="_blank">BOSS、物品补丁下载 一</a></li>
            <li><a href="http://ruchu888.ysepan.com" target="_blank">BOSS、物品补丁下载 二</a></li>
            <li><a href="https://www.123865.com/s/UoC0Vv-yC9l3" target="_blank">1.50复古传奇声音Wav文件原文件的30%(覆盖Wav文件即可) 下载</a></li>
        </ul>
    </div>

<script>
var re_time; //记录刷新时间


function jisuan() {
    var rtime
    re_time = document.getElementById("id_tv_time").value
    rtime = new Date(re_time)
    rtime.setTime(rtime.getTime() + getmaptime())
    ctime = new Date(rtime.getTime() - new Date().getTime() - 2 * 1000) / 1000
    var str = "下次刷新时间约为" + getDate2(rtime) + "距离刷新还有" + ctime + "秒";
    document.getElementById('result').innerHTML = str
    copy(str)
}


function jisuan_next() {
    var rtime
    re_time = document.getElementById("id_tv_time").value
    rtime = new Date(re_time)
    rtime.setTime(rtime.getTime() + getmaptime())
    ctime = new Date(rtime.getTime() - new Date().getTime() - 2 * 1000) / 1000
    if (ctime <= 0) {
        document.getElementById('id_tv_time').value = getDate2(rtime)
    }
    jisuan()
}

function getmaptime() {
    var sec = 520
    var rdgrop = document.getElementsByName("select_time")
    for (let i = 0; i < rdgrop.length; i++) {
        if (rdgrop[i].checked && rdgrop[i].value > 0) {
            sec = rdgrop[i].value
            return sec * 1000
        } else if (rdgrop[i].checked) {
            sec = document.getElementById("custom_time").value
            return sec * 1000
        }
    }

    return sec * 1000
}

function make_ctime() {
    document.getElementById('id_tv_time').value = getDate();

}

function getDate() {

    window.setTimeout(function() {
        window.requestAnimationFrame(getDate)
    }, 1000 / 2)
    var d = new Date();
    var year = d.getFullYear() //获取年
    var month = d.getMonth() + 1; //获取月，从 Date 对象返回月份 (0 ~ 11)，故在此处+1
    var day = d.getDay() //获取日
    var days = d.getDate() //获取日期
    var hour = d.getHours() //获取小时
    var minute = d.getMinutes() //获取分钟
    var second = d.getSeconds() //获取秒 +
    if (month < 10) month = "0" + month
    if (days < 10) days = "0" + days
    if (hour < 10) hour = "0" + hour
    if (minute < 10) minute = "0" + minute
    if (second < 10) second = "0" + second
    var week = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六")
    var da = year + "-" + month + "-" + days + " " + hour + ":" + minute + ":" + second
    return da
}

function getDate2(date) {

    window.setTimeout(function() {
        window.requestAnimationFrame(getDate)
    }, 1000 / 2)
    var d = new Date(date);
    var year = d.getFullYear() //获取年
    var month = d.getMonth() + 1; //获取月，从 Date 对象返回月份 (0 ~ 11)，故在此处+1
    var day = d.getDay() //获取日
    var days = d.getDate() //获取日期
    var hour = d.getHours() //获取小时
    var minute = d.getMinutes() //获取分钟
    var second = d.getSeconds() //获取秒 +
    if (month < 10) month = "0" + month
    if (days < 10) days = "0" + days
    if (hour < 10) hour = "0" + hour
    if (minute < 10) minute = "0" + minute
    if (second < 10) second = "0" + second
    var week = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六")
    var da = year + "-" + month + "-" + days + " " + hour + ":" + minute + ":" + second
    return da
}


function copy(text) {
    // text是复制文本
    // 创建input元素
    const el = document.createElement('input')
        // 给input元素赋值需要复制的文本
    el.setAttribute('value', text)
        // 将input元素插入页面
    document.body.appendChild(el)
        // 选中input元素的文本
    el.select()
        // 复制内容到剪贴板
    document.execCommand('copy')
        // 删除input元素
    document.body.removeChild(el)
}

function count_retime() {
    if (re_time != null) {
        var rtime
        rtime = new Date(re_time)
        rtime.setTime(rtime.getTime() + getmaptime())
        ctime = new Date(rtime.getTime() - new Date().getTime() - 2 * 1000) / 1000
        var str = "下次刷新时间约为" + getDate2(rtime) + "距离刷新还有" + parseInt(ctime) + "秒";
        document.getElementById('result').innerHTML = str
    }
}

document.getElementById('time').innerHTML = getDate();
document.getElementById('id_tv_time').value = getDate();
setInterval("document.getElementById('time').innerHTML = getDate();", 1000);
setInterval(count_retime, 1000);
</script>

</body>
</html>